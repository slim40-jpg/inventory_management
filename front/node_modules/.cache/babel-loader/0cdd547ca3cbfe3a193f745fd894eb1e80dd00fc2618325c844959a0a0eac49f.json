{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\slims\\\\OneDrive\\\\Documents\\\\front\\\\src\\\\dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Sidebar from './Sidebar';\nimport axios from 'axios';\nimport './dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  var _user$company;\n  const [user, setUser] = useState(null);\n  const [notifications, setNotifications] = useState({\n    count: 0,\n    items: [],\n    message: ''\n  });\n  const [depots, setDepots] = useState([]);\n  const [stats, setStats] = useState({\n    totalDepots: 0,\n    totalMaterials: 0,\n    totalMovements: 0,\n    totalReservations: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\n  // Set up axios interceptors for authentication\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n\n    // Get user from localStorage\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    if (storedUser) {\n      setUser(storedUser);\n    } else {\n      // If no user, redirect to login\n      navigate('/login');\n    }\n  }, [navigate]);\n\n  // Fetch dashboard data from backend\n  useEffect(() => {\n    if (user) {\n      fetchDashboardData();\n    }\n  }, [user]);\n  const fetchDashboardData = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      // Fetch multiple data in parallel\n      const [depotsResponse, statsResponse] = await Promise.all([axios.get(`${API_URL}/api/stock/depots`), axios.get(`${API_URL}/api/dashboard/stats`)]);\n\n      // Process depots data\n      const depotsData = depotsResponse.data.data || depotsResponse.data;\n      setDepots(depotsData);\n\n      // Process statistics\n      if (statsResponse.data.success) {\n        setStats(statsResponse.data.data);\n      }\n\n      // Calculate notifications for low stock\n      calculateNotifications(depotsData);\n    } catch (err) {\n      var _err$response, _err$response2;\n      console.error('Error fetching dashboard data:', err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n        // Token expired or invalid\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        navigate('/login');\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 403) {\n        setError('Vous n\\'avez pas la permission d\\'acc√©der √† ces donn√©es');\n      } else {\n        setError('Erreur lors du chargement des donn√©es du tableau de bord');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const calculateNotifications = depotsData => {\n    // Check for high capacity usage (>=80%) OR low stock remaining (<10%)\n    const lowStockDepots = depotsData.filter(depot => {\n      if (!depot.capacity || !depot.stockLevel) return false;\n      const capacityPercent = depot.capacity.used / depot.capacity.total * 100;\n      const remainingPercent = 100 - capacityPercent;\n      return capacityPercent >= 80 || remainingPercent < 10 || depot.stockLevel === 'low';\n    });\n    setNotifications({\n      count: lowStockDepots.length,\n      items: lowStockDepots,\n      message: lowStockDepots.length > 0 ? `${lowStockDepots.length} d√©p√¥t${lowStockDepots.length > 1 ? 's' : ''} avec stock faible` : 'Tous les d√©p√¥ts sont en bon √©tat'\n    });\n  };\n  const quickCards = [{\n    icon: 'üìä',\n    title: 'Tableau de bord',\n    id: 'dashboard',\n    count: stats.totalDepots || 0,\n    subtitle: 'D√©p√¥ts'\n  }, {\n    icon: 'üì¶',\n    title: 'D√©p√¥ts',\n    id: 'depots',\n    count: stats.totalDepots || 0,\n    subtitle: 'Total'\n  }, {\n    icon: 'üìã',\n    title: 'Mat√©riel',\n    id: 'materiel',\n    count: stats.totalMaterials || 0,\n    subtitle: 'Articles'\n  }, {\n    icon: 'üìà',\n    title: 'Mouvements',\n    id: 'movements',\n    count: stats.totalMovements || 0,\n    subtitle: 'Activit√©'\n  }, {\n    icon: 'üìÖ',\n    title: 'R√©servations',\n    id: 'reservations',\n    count: stats.totalReservations || 0,\n    subtitle: 'En cours'\n  }, {\n    icon: 'üë•',\n    title: 'Utilisateurs',\n    id: 'users',\n    count: '5',\n    // This would come from API\n    subtitle: 'Actifs'\n  }];\n  const handleMenuClick = id => {\n    switch (id) {\n      case 'dashboard':\n        navigate('/dashboard');\n        break;\n      case 'depots':\n        navigate('/depots');\n        break;\n      case 'materiel':\n        navigate('/materiel');\n        break;\n      case 'movements':\n        navigate('/movements');\n        break;\n      case 'reservations':\n        navigate('/reservations');\n        break;\n      case 'users':\n        navigate('/users');\n        break;\n      default:\n        console.log(`Navigate to: ${id}`);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      // Call logout API\n      await axios.post(`${API_URL}/api/auth/logout`);\n    } catch (err) {\n      console.error('Logout error:', err);\n    } finally {\n      // Clear local storage\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      localStorage.removeItem('isLoggedIn');\n\n      // Clear axios headers\n      delete axios.defaults.headers.common['Authorization'];\n\n      // Redirect to login\n      navigate('/login');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        activePage: \"dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"dashboard-main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Chargement du tableau de bord...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      activePage: \"dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"dashboard-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"dashboard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Tableau de bord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [error && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-badge\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"notification-btn\",\n              children: [\"\\uD83D\\uDD14\", notifications.count > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"notification-badge\",\n                children: notifications.count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-profile\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-name\",\n              children: (user === null || user === void 0 ? void 0 : user.username) || 'Utilisateur'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-avatar\",\n              children: user !== null && user !== void 0 && user.username ? user.username.charAt(0).toUpperCase() : 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => navigate('/profile'),\n                children: \"\\uD83D\\uDC64 Profil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLogout,\n                children: \"\\uD83D\\uDEAA D\\xE9connexion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"welcome-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-avatar\",\n            children: user !== null && user !== void 0 && user.username ? user.username.charAt(0).toUpperCase() : 'U'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Bonjour, \", (user === null || user === void 0 ? void 0 : user.username) || 'Utilisateur', \"!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"user-role\",\n              children: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? 'Administrateur' : (user === null || user === void 0 ? void 0 : user.role) === 'manager' ? 'Gestionnaire' : (user === null || user === void 0 ? void 0 : user.role) === 'staff' ? 'Employ√©' : 'Utilisateur'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"user-company\",\n              children: (user === null || user === void 0 ? void 0 : (_user$company = user.company) === null || _user$company === void 0 ? void 0 : _user$company.name) || 'Sans entreprise'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: [\"\\u26A0\\uFE0F \", error, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: fetchDashboardData,\n              className: \"retry-btn\",\n              children: \"R\\xE9essayer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"stats-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-grid\",\n            children: quickCards.map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              onClick: () => handleMenuClick(card.id),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon\",\n                children: card.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: card.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-number\",\n                  children: card.count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"stat-subtitle\",\n                  children: card.subtitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, card.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: `notification-section ${notifications.count > 0 ? 'alert' : 'success'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-icon\",\n            children: notifications.count > 0 ? '‚ö†Ô∏è' : '‚úÖ'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: notifications.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), notifications.count > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"depot-list\",\n              children: [notifications.items.slice(0, 3).map((depot, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"depot-tag\",\n                children: depot.name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this)), notifications.items.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"depot-tag more\",\n                children: [\"+\", notifications.items.length - 3, \" autres\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), notifications.count > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"view-details-btn\",\n            onClick: () => navigate('/depots'),\n            children: \"Voir d\\xE9tails \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"recent-activity\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Activit\\xE9 r\\xE9cente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"activity-icon\",\n                children: \"\\u2795\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Nouveau mat\\xE9riel ajout\\xE9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"activity-time\",\n                  children: \"Il y a 2 heures\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"activity-icon\",\n                children: \"\\uD83D\\uDCE6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Stock mis \\xE0 jour dans le d\\xE9p\\xF4t principal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"activity-time\",\n                  children: \"Il y a 5 heures\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"activity-icon\",\n                children: \"\\uD83D\\uDC64\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Nouvel utilisateur enregistr\\xE9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"activity-time\",\n                  children: \"Il y a 1 jour\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"floating-action-btn\",\n      onClick: () => navigate('/materiel/add'),\n      title: \"Ajouter du mat\\xE9riel\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"fab-icon\",\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"JRqlOkRyZWHVEKfO0vIc20cDiZs=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Sidebar","axios","jsxDEV","_jsxDEV","Dashboard","_s","_user$company","user","setUser","notifications","setNotifications","count","items","message","depots","setDepots","stats","setStats","totalDepots","totalMaterials","totalMovements","totalReservations","loading","setLoading","error","setError","navigate","API_URL","process","env","REACT_APP_API_URL","token","localStorage","getItem","defaults","headers","common","storedUser","JSON","parse","fetchDashboardData","depotsResponse","statsResponse","Promise","all","get","depotsData","data","success","calculateNotifications","err","_err$response","_err$response2","console","response","status","removeItem","lowStockDepots","filter","depot","capacity","stockLevel","capacityPercent","used","total","remainingPercent","length","quickCards","icon","title","id","subtitle","handleMenuClick","log","handleLogout","post","className","children","activePage","fileName","_jsxFileName","lineNumber","columnNumber","username","charAt","toUpperCase","onClick","role","company","name","map","card","slice","index","_c","$RefreshReg$"],"sources":["C:/Users/slims/OneDrive/Documents/front/src/dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Sidebar from './Sidebar';\nimport axios from 'axios';\nimport './dashboard.css';\n\nconst Dashboard = () => {\n  const [user, setUser] = useState(null);\n  const [notifications, setNotifications] = useState({\n    count: 0,\n    items: [],\n    message: ''\n  });\n  const [depots, setDepots] = useState([]);\n  const [stats, setStats] = useState({\n    totalDepots: 0,\n    totalMaterials: 0,\n    totalMovements: 0,\n    totalReservations: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  \n  const navigate = useNavigate();\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\n  // Set up axios interceptors for authentication\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n    \n    // Get user from localStorage\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    if (storedUser) {\n      setUser(storedUser);\n    } else {\n      // If no user, redirect to login\n      navigate('/login');\n    }\n  }, [navigate]);\n\n  // Fetch dashboard data from backend\n  useEffect(() => {\n    if (user) {\n      fetchDashboardData();\n    }\n  }, [user]);\n\n  const fetchDashboardData = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      // Fetch multiple data in parallel\n      const [depotsResponse, statsResponse] = await Promise.all([\n        axios.get(`${API_URL}/api/stock/depots`),\n        axios.get(`${API_URL}/api/dashboard/stats`)\n      ]);\n\n      // Process depots data\n      const depotsData = depotsResponse.data.data || depotsResponse.data;\n      setDepots(depotsData);\n\n      // Process statistics\n      if (statsResponse.data.success) {\n        setStats(statsResponse.data.data);\n      }\n\n      // Calculate notifications for low stock\n      calculateNotifications(depotsData);\n\n    } catch (err) {\n      console.error('Error fetching dashboard data:', err);\n      \n      if (err.response?.status === 401) {\n        // Token expired or invalid\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        navigate('/login');\n      } else if (err.response?.status === 403) {\n        setError('Vous n\\'avez pas la permission d\\'acc√©der √† ces donn√©es');\n      } else {\n        setError('Erreur lors du chargement des donn√©es du tableau de bord');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateNotifications = (depotsData) => {\n    // Check for high capacity usage (>=80%) OR low stock remaining (<10%)\n    const lowStockDepots = depotsData.filter(depot => {\n      if (!depot.capacity || !depot.stockLevel) return false;\n      \n      const capacityPercent = (depot.capacity.used / depot.capacity.total) * 100;\n      const remainingPercent = 100 - capacityPercent;\n      return capacityPercent >= 80 || remainingPercent < 10 || depot.stockLevel === 'low';\n    });\n\n    setNotifications({\n      count: lowStockDepots.length,\n      items: lowStockDepots,\n      message: lowStockDepots.length > 0 \n        ? `${lowStockDepots.length} d√©p√¥t${lowStockDepots.length > 1 ? 's' : ''} avec stock faible`\n        : 'Tous les d√©p√¥ts sont en bon √©tat'\n    });\n  };\n\n  const quickCards = [\n    { \n      icon: 'üìä', \n      title: 'Tableau de bord', \n      id: 'dashboard',\n      count: stats.totalDepots || 0,\n      subtitle: 'D√©p√¥ts'\n    },\n    { \n      icon: 'üì¶', \n      title: 'D√©p√¥ts', \n      id: 'depots',\n      count: stats.totalDepots || 0,\n      subtitle: 'Total'\n    },\n    { \n      icon: 'üìã', \n      title: 'Mat√©riel', \n      id: 'materiel',\n      count: stats.totalMaterials || 0,\n      subtitle: 'Articles'\n    },\n    { \n      icon: 'üìà', \n      title: 'Mouvements', \n      id: 'movements',\n      count: stats.totalMovements || 0,\n      subtitle: 'Activit√©'\n    },\n    { \n      icon: 'üìÖ', \n      title: 'R√©servations', \n      id: 'reservations',\n      count: stats.totalReservations || 0,\n      subtitle: 'En cours'\n    },\n    { \n      icon: 'üë•', \n      title: 'Utilisateurs', \n      id: 'users',\n      count: '5', // This would come from API\n      subtitle: 'Actifs'\n    }\n  ];\n\n  const handleMenuClick = (id) => {\n    switch(id) {\n      case 'dashboard':\n        navigate('/dashboard');\n        break;\n      case 'depots':\n        navigate('/depots');\n        break;\n      case 'materiel':\n        navigate('/materiel');\n        break;\n      case 'movements':\n        navigate('/movements');\n        break;\n      case 'reservations':\n        navigate('/reservations');\n        break;\n      case 'users':\n        navigate('/users');\n        break;\n      default:\n        console.log(`Navigate to: ${id}`);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      // Call logout API\n      await axios.post(`${API_URL}/api/auth/logout`);\n    } catch (err) {\n      console.error('Logout error:', err);\n    } finally {\n      // Clear local storage\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      localStorage.removeItem('isLoggedIn');\n      \n      // Clear axios headers\n      delete axios.defaults.headers.common['Authorization'];\n      \n      // Redirect to login\n      navigate('/login');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"dashboard-container\">\n        <Sidebar activePage=\"dashboard\" />\n        <main className=\"dashboard-main\">\n          <div className=\"loading-container\">\n            <div className=\"spinner\"></div>\n            <p>Chargement du tableau de bord...</p>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard-container\">\n      {/* Sidebar */}\n      <Sidebar activePage=\"dashboard\" />\n\n      {/* Main Content */}\n      <main className=\"dashboard-main\">\n        {/* Header */}\n        <header className=\"dashboard-header\">\n          <h1>Tableau de bord</h1>\n          <div className=\"header-actions\">\n            {error && <span className=\"error-badge\">‚ö†Ô∏è</span>}\n            \n            <div className=\"notification-wrapper\">\n              <button className=\"notification-btn\">\n                üîî\n                {notifications.count > 0 && (\n                  <span className=\"notification-badge\">{notifications.count}</span>\n                )}\n              </button>\n              {/* Notification dropdown would go here */}\n            </div>\n            \n            <div className=\"user-profile\">\n              <span className=\"user-name\">{user?.username || 'Utilisateur'}</span>\n              <div className=\"user-avatar\">\n                {user?.username ? user.username.charAt(0).toUpperCase() : 'U'}\n              </div>\n              <div className=\"user-dropdown\">\n                <button onClick={() => navigate('/profile')}>üë§ Profil</button>\n                <button onClick={handleLogout}>üö™ D√©connexion</button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Content Area */}\n        <div className=\"dashboard-content\">\n          {/* Welcome Section */}\n          <section className=\"welcome-section\">\n            <div className=\"welcome-avatar\">\n              {user?.username ? user.username.charAt(0).toUpperCase() : 'U'}\n            </div>\n            <div className=\"welcome-text\">\n              <h2>Bonjour, {user?.username || 'Utilisateur'}!</h2>\n              <p className=\"user-role\">\n                {user?.role === 'admin' ? 'Administrateur' : \n                 user?.role === 'manager' ? 'Gestionnaire' : \n                 user?.role === 'staff' ? 'Employ√©' : 'Utilisateur'}\n              </p>\n              <p className=\"user-company\">\n                {user?.company?.name || 'Sans entreprise'}\n              </p>\n            </div>\n            {error && (\n              <div className=\"error-message\">\n                ‚ö†Ô∏è {error}\n                <button onClick={fetchDashboardData} className=\"retry-btn\">\n                  R√©essayer\n                </button>\n              </div>\n            )}\n          </section>\n\n          {/* Stats Cards */}\n          <section className=\"stats-section\">\n            <div className=\"stats-grid\">\n              {quickCards.map((card) => (\n                <div\n                  key={card.id}\n                  className=\"stat-card\"\n                  onClick={() => handleMenuClick(card.id)}\n                >\n                  <div className=\"stat-icon\">{card.icon}</div>\n                  <div className=\"stat-content\">\n                    <h3>{card.title}</h3>\n                    <div className=\"stat-number\">{card.count}</div>\n                    <p className=\"stat-subtitle\">{card.subtitle}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </section>\n\n          {/* Notification Alert */}\n          <section className={`notification-section ${notifications.count > 0 ? 'alert' : 'success'}`}>\n            <div className=\"notification-icon\">\n              {notifications.count > 0 ? '‚ö†Ô∏è' : '‚úÖ'}\n            </div>\n            <div className=\"notification-content\">\n              <h4>{notifications.message}</h4>\n              {notifications.count > 0 && (\n                <div className=\"depot-list\">\n                  {notifications.items.slice(0, 3).map((depot, index) => (\n                    <span key={index} className=\"depot-tag\">\n                      {depot.name}\n                    </span>\n                  ))}\n                  {notifications.items.length > 3 && (\n                    <span className=\"depot-tag more\">\n                      +{notifications.items.length - 3} autres\n                    </span>\n                  )}\n                </div>\n              )}\n            </div>\n            {notifications.count > 0 && (\n              <button \n                className=\"view-details-btn\"\n                onClick={() => navigate('/depots')}\n              >\n                Voir d√©tails ‚Üí\n              </button>\n            )}\n          </section>\n\n          {/* Recent Activity Section */}\n          <section className=\"recent-activity\">\n            <h3>Activit√© r√©cente</h3>\n            <div className=\"activity-list\">\n              <div className=\"activity-item\">\n                <span className=\"activity-icon\">‚ûï</span>\n                <div className=\"activity-content\">\n                  <p>Nouveau mat√©riel ajout√©</p>\n                  <span className=\"activity-time\">Il y a 2 heures</span>\n                </div>\n              </div>\n              <div className=\"activity-item\">\n                <span className=\"activity-icon\">üì¶</span>\n                <div className=\"activity-content\">\n                  <p>Stock mis √† jour dans le d√©p√¥t principal</p>\n                  <span className=\"activity-time\">Il y a 5 heures</span>\n                </div>\n              </div>\n              <div className=\"activity-item\">\n                <span className=\"activity-icon\">üë§</span>\n                <div className=\"activity-content\">\n                  <p>Nouvel utilisateur enregistr√©</p>\n                  <span className=\"activity-time\">Il y a 1 jour</span>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n      </main>\n\n      {/* Floating Action Button */}\n      <button \n        className=\"floating-action-btn\"\n        onClick={() => navigate('/materiel/add')}\n        title=\"Ajouter du mat√©riel\"\n      >\n        <span className=\"fab-icon\">+</span>\n      </button>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}